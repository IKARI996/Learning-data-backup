# 信息安全技术  

## 第9章  
公钥算法基于数学函数而不是基于替换和置换，公钥密码是非对称的，使用两个独立的密钥。  

### 对称算法的缺陷：
1. 为事先协商密钥，需要另外的安全信道
2. 不能满足签名的需求  

### 对公钥密码的要求
1. 产生一对密钥在计算上是容易的
2. 已知公钥和明文，发送方产生相应的密文在计算上是容易的
3. 已知私钥和密文，接受方恢复相应的明文在计算上是容易的
4. 已知公钥时，攻击者要确定私钥在计算上是不可行的
5. 已知公钥和密文，攻击者要恢复明文在计算上是不可行的
6. 加密和解密函数的顺序可以交换

### 对实际明文使用RSA：
例子：明文是一串字母，每个字母与两位的十进制数字对应（a = 00，A = 26），明文的每一分组块由4个十进制数字组成，即两个字母，对这些十进制数使用RSA   

### 对RSA算法的攻击：  
穷举攻击、数学攻击、共模攻击、计时攻击、选择密文攻击    

### RSA的优点：  
1. 形式简单，易于理解，研究深入，支持广泛
2. 既能用来加密，又可签名  

### 缺点：  
1. 安全性的模糊（因子分解的难度）
2. 随机素数产生并不容易
3. 运算量大，速度受局限    

### 对称算法 VS 公钥算法  
1. **速度**  
公钥算法比对称算法慢很多
2. **密钥管理**  
对称算法需要额外的安全信道  
公钥：证书中心CA
3. **混合密码体制**  
公钥算法用于签名和认证  
使用公钥算法传输会话密钥  
使用会话密钥/对称算法加密批量数据  

### RSA加解密  
实际使用时RSA加密的一般不是直接的明文，而是会话密钥，然后用对称算法加解密  

## 第10章  

### 公钥的分配方法
1. 临时索要公钥/自由的扩散/PGP的公钥环
2. 公开的目录服务(在线方式)
3. 公钥授权(在线中心方式)
4. 通过证书中心CA(离线中心方式)

### Diffie-Hellman密钥交换  
目的：使两个用户能安全地交换密钥，以便在后续的通信中用该密钥对消息加密

### 中间人攻击  
- 通信双方在交换Y的过程中，Y可能被替换假冒，而并不能发现，形式上，可以理解为一个中间人在跟双方同时通信，当然通信内容在中间人那里是可见的。一个现实的例子就是：可以同时开两盘QQ棋，一个后手，一个先手。  
- 密钥交换协议不能抵抗上述攻击，因为它没有对通信的参与方进行认证

### RSA与ECC（椭圆曲线）的比较  
1. 在密钥长度相等的情况下，RSA和ECC的速度相当
2. ECC可以使用比RSA短得多的密钥得到相同的安全性 
3. ECC较好，适合嵌入式设备中

## 第11-12章  

### 认证
- 消息认证是验证消息完整性的一种机制，能发现对消息的篡改或假冒。使用对称算法可产生消息鉴别码MAC，使用公钥算法可对消息进行签名
- 身份认证是鉴别通信对方的身份是否属实

### 对网络通信的攻击
1. 泄密
2. 传输分析
3. 伪装
4. 内容修改
5. 顺序修改
6. 计时修改
7. 发送方否认
8. 接受方否认   

**对信息认证的要求：**  
- 伪装
- 内容修改
- 顺序修改
- 计时修改

### 避免使用加密方法产生MAC码  
1. 加密并不能完全抵抗篡改或假冒
2. 生成MAC没有必要整个报文被加密  
3. 不需要能恢复原文
4. MAC的计算过程只需体现明文的特征唯一  

### 加密和认证分离
1. 加密本身不能实现真实性认证功能
2. 认证和加密的分离带来灵活性（只要认证而不需保密、不能加密的场合、存档期间的保护）

### MAC  
1. MAC不需要可逆
2. MAC码通常较短
3. 实现MAC函数不排斥使用对称加密算法
4. 实现MAC函数希望使用比加密更高效的方法
5. 为防范重放攻击，加注时间、报文序号
6. 对称MAC不能提供签名特性  

### 使用MAC的原因
1. 许多应用是将同一消息广播给很多接受者
2. 在信息交换中，通信某一方的处理负荷很大，没有时间解密收到的所有消息，他能随机选择消息并对其进行认证
3. 对明文形式的程序进行认证是很有意义的服务
4. 一些应用不关心信息的保密性，只关心消息认证
5. 将认证和保密性分离开来，可使层级结构更加灵活
6. 仅在接受消息期间对实施保护是不够的，用户希望延长对消息的保护时间

### Hash函数
**特性：**  
输入长度可变、输出长度固定、效率、单向性、抗冲突、抗弱碰撞性、抗强碰撞性、伪随机性  
**用途：**  
1. 给明文增加结构特征以保护明文
2. 产生MAC（消息认证码）
3. 数字签名
4. 从口令衍生密钥
5. 挑战-应答认证协议
6. 产生随机数  

**对Hash的攻击：**
1. 穷举攻击
2. 密码分析  

### 生日攻击
最多尝试2^n＋1个报文，必有至少一对碰撞

### MAC码算法
1. 基于加密算法的MAC码算法（CMAC）（例如，DES-CBC）
2. 基于散列函数的MAC码算法（HMAC）  
把HASH值和一个Key结合起来  
既能用当前的HASH函数，又易升级为新的HASH函数，并能保持和散列函数一样安全性，易进行密码学分析

### MAC/HMAC的安全性
1. 攻击加密算法
2. 攻击Hash函数（单向、找碰撞报文、生日攻击）
3. 攻击使用方法（不正确的实现和使用方式）


### 基于分组密码的散列函数的缺点
1. 不利于随机化（加密是可逆的，分组密码存在规则性）
2. 分组密码通常很慢
3. 分组密码的分组长度小于散列值长度  

## 第13章

### 数字签名
**特征：**
1. 能验证签名者、签名日期和时间
2. 能认证被签名的信息内容
3. 能有第三方仲裁，以解决争执  

**需求：**  
1. 签名必须是与信息相关的二进制位串
2. 签名必须使用发送方某些独有的信息，以防伪造和否认
3. 产生数字签名比较容易
4. 识别和验证签名比较容易
5. 伪造数字签名在计算上是不可行的
6. 保存数字签名的副本是不可行的

### 签名函数
1. 被签署的是文件(大文件)
2. 签名生成另外一个文件(小文件)
3. 签名过程一定有签署人的身份和某种秘密(别人不知的)参与
4. 简单易行

### 无中心数字签名
- 直接使用私钥加密作为签名
- 存在问题：声称私钥被偷窃而抵赖

### 有信任中心帮助的签名
- 优点：可以简化用户的考虑，甚至可以使用对称算法
- 缺点：中心的安全故障、在线瓶颈、可靠性等问题

### 数字签名标准（DSS）、数字签名算法（DSA）
- 只能签名，不能加密或密钥交换

### DSA与RSA比较
**RSA：**  
Hash函数的输入是要签名的信息，输出是定长的HASH码，用发送方的私钥将该HASH码加密形成签名，然后发送消息及签名。接受方收到消息，计算HASH码。接受方用发送方的公钥对签名解密，如果计算出的HASH码与解密的结果相同，则认为签名有效。  

**DSA：**
使用HASH函数产生的HASH码和为此次签名而产生的随机数K作为签名函数的输入，签名函数依赖于发送方的私钥和通信伙伴所共有的全局公钥，签名由r和s两部分组成。接受方对接收到的信息产生HASH码，该HASH码和签名一起作为验证函数的输入，验证函数依赖于全局公钥和发送方公钥。若验证函数的输出等于签名中的s成分，则签名是有效的。  

## 第14章
### 安全要素
1. 认证
2. 授权
3. 保密性
4. 完整性
5. 防抵赖

### 什么是PKI
- PKI就是利用公共密钥理论和技术建立的提供安全服务的基础设施
- PKI（公共密钥基础设施）希望从技术上解决网上身份认证、电子信息的完整性和不可抵赖性等安全问题，为网络应用提供可靠地安全服务
- 只要KPI具有有好的接口，那么普通用户就只需要知道如何接入PKI就能获得安全服务，完全无需理解PKI如何实现安全服务
- 在公钥加密技术的基础上实现证书的产生, 管理, 存储, 发放以及作废而必须的全部硬件, 软件, 人力资源, 相关政策和操作程序以及为PKI体系中的成员提供的安全服务的全部 
- PKI的功能是绑定证书持有者的身份和相关的密钥对，为用户提供方便的直接或间接获取证书的途径，对证书发放环境的方便的访问途径，证书作废的直接或间接宣告途径，并进而利用数字证书及相关的各种服务，实现通信中各实体的身份认证，完整性，不可否认性和保密性  

### CA安全认证中心功能
1. 提供统一的集中管理和监控界面
2. 集中签发数字身份证书
3. 集中管理数字身份证书
4. 集中认证数字身份证书  


### 主密钥和会话密钥
**会话密钥：**  
两个终端系统之间的通信使用会话密钥加密，会话密钥被用于逻辑连接中，随着连接的断开而丢弃，终端用户通信所用的会话密钥从密钥分发中心得到，会话密钥可用密钥分发中心与终端系统或用户共用的主密钥加密后进行传送。  

**主密钥：**  
每一个终端系统或用户和密钥分发中心共有唯一的主密钥  

### 公钥分发
1. 公开发布
2. 公开可访问的目录
3. 公钥授权
4. 公钥证书  
通信双方使用证书来交换密钥，一个用户以安全的方式将公钥交给管理员，从而获得一个证书，接着用户就可以公开证书，任何需要该用户公钥的人都可以获得该证书，并通过查看附带的可信签名来验证证书的有效性，通信的一方也可以通过传递证书的方式将他的密钥传达给另一方，其他通信各方可以验证该证书确实是由证书管理员生成的  

### CA生成的用户证书的特点
- 任何可以访问CA公钥的用户均可获得证书中的用户公钥
- 只有CA可以修改证书

### 证书撤销
每个证书都有一个有效期，新的证书会在旧的证书失效前发放  
撤回证书的原因：1.用户私钥被认为不安全；2.用户不在信任该CA；3.CA证书被认为不安全  
每当一个用户在一个消息中接收到一个证书，用户都必须确定该证书是否已被撤销  

### PKIX模型中的元素：
1. 端实体
2. 签证机构（CA）
3. 注册机构（RA）
4. 证书撤销列表（CRL）发布点
5. 证书存取库

### PKIX管理任务
1. 用户注册
2. 初始化
3. 认证
4. 密钥对的恢复
5. 密钥对更新
6. 证书撤销请求
7. 交叉认证  

## 第15章

### 双向认证
双向认证协议能够使通信双方相互认证彼此身份并交换会话密钥  
关注两个问题：保密性和时效性

### 重放攻击
1. 简单重放
2. 记录重放
3. 截获重放
4. 无更改的反向重放  

**解决办法：**  
1. 时间戳
2. 挑战/应答
3. 序列号  

### Kerberos
**目的：**  
解决问题：在开放的分布式环境中，用户希望访问网络中的服务器，而服务器则要求能够认证用户的访问请求，并仅允许那些通过认证的用户访问服务器，以防未授权用户得到服务和数据  
**要求：**
1. 安全性
2. 可靠性
3. 透明性
4. 可伸缩性

#### Kerberos V4
过程：  
用户首先向AS（认证服务器）获取访问TGS（票据许可服务器）的票据Tickettgs（称为票据许可票据）存起来以后可反复使用。用户每次欲获得服务器V的服务时，将Tickettgs出示给TGS，TGS再向用户发放获得服务器V服务的许可票据TicketV（称为服务许可票据）  

两个问题：  
1. Tickettgs和TicketV的有效期限  
2. 服务器也应该向用户证明自己

#### Kerberos区域
要求：
1. Kerberos服务器必须在它的数据库中存有所有用户的ID和口令，所有用户都已向Kerberos服务器注册
2. Kerberos服务器必须与每一服务器有共享的密钥，所有服务器都已向Kerberos服务器注册
3. 每个区域的Kerberos服务器必须和其他区域的服务器有共享的密钥，且两个区域的Kerberos服务器已彼此注册

获取跨区域的服务：  
用户通过自己的客户机首先向本区域的TGS申请一个访问远程TGS（即区域B中的TGS）的票据许可票据，然后用这个票据许可票据向远程TGS申请获得服务器服务的服务许可票据  

## 第16章  

### 网络安全
1. 保密性
2. 完整性
3. 可用性
4. 真实性（认证）
5. 可控性（访问控制）
6. 抗抵赖性（不可否认）

### 信息安全技术体系
1. 基础支撑技术  
- 提供包括保密性、完整性和抗抵赖性等内在的最基本的信息安全服务，同时为信息安全攻防技术提供支撑
- 密码技术、认证技术是信息安全基础支撑技术的核心，也是信息安全技术的核心
- 例如：密码技术、认证技术、PKI系统、访问控制理论
2. 主动防御技术  
- 提供阻断、控制信息安全威胁的能力
- 例如：防火墙、VPN、SSL、计算机病毒查杀
3. 被动防御技术  
- 着眼信息安全威胁的发现和如何在信息安全威胁发生后将损失降到最低
- 例如：IDS、蜜罐、扫描、数据备份、安全审计
4. 面向管理的技术  
- 以如何提高信息安全技术效率和集成使用信息安全技术为基本出发点，并在信息安全技术的基础上引入了管理的思想，是一种综合的技术手段
- 例如：安全网管系统、网络监控、资产管理、威胁管理  

### 网络访问控制（NAC）
对网络访问管理的总称，NAC在用户登录网络的时候进行认证，决定其可以获取哪些数据以及可以执行哪些行为，同时检测用户的计算机以及移动设备的安全状况

### 常见的NAC实施方法
1. IEEE 802.1X
2. 虚拟本地局域网（VLAN）
3. 防火墙
4. DHCP管理

### 可扩展认证协议（EAP）
一个网络访问和授权协议的框架，EAP提供了许多协议消息，可封装多种认证方法，在客户和认证服务器之间使用，可在多种网络和链路层设备进行操作，可使用多种链路和网络的认证需求

### 云计算的要素
- 特征
1. 广域网络访问
2. 快速弹性
3. 计量服务
4. 按需自助服务
5. 资源组合

- 服务模式
1. 软件即服务
2. 平台即服务
3. 基础设施即服务

- 部署模式
1. 公共云
2. 私有云
3. 社区云
4. 混合云

### 云计算相关框架
1. 云用户
2. 云提供商
3. 云审计者
4. 云代理商
5. 云运营商

### 云安全面临的威胁
1. 云计算的滥用
2. 不安全的接口和API
3. 恶意的内部成员
4. 共享技术问题
5. 数据丢失或泄露
6. 账户或服务劫持
7. 未知的安全威胁  

## 第17章  

### 安全套接层（SSL）
SSL为TCP提供可靠地端到端安全服务，SSL不是单个协议而是两层协议  
SSL记录协议为高层协议提供基本的安全服务  
SSL协议上定义了三个高层协议：握手协议、修改密码规范协议、报警协议  
SSL连接：对SSL来说，连接表示的是对等网络关系，且连接是短暂的，每个连接与一个会话相关  
SSL会话：SSL会话是一个客户端和服务器间的关联，会话是通过握手协议创建的，定义了一组多个连接共享的密码安全参数  

## 第18章  

### 无线网络威胁  
1. 意外关联
2. 恶意关联
3. 自组网络
4. 非传统网络
5. 身份盗窃（MAC欺骗）
6. 中间人攻击
7. 拒绝服务攻击（DoS）
8. 网络注入

### 无线安全措施
1. 安全无线传输
- 信号隐藏技术
- 加密
2. 安全无线接入
- IEEE 802.1X标准基于端口的网络接入控制
3. 安全无线网络
- 使用加密
- 使用防病毒软件以及防火墙
- 关闭标志符广播
- 改变路由器上默认标志符
- 改变路由器预设密码
- 只允许特定计算机接入无线网络  

### 移动设备安全威胁  
1. 缺乏物理安全控制
2. 使用不可信移动设备
3. 使用不可信网络
4. 使用未知方所创建的应用程序
5. 与其他系统交互
6. 使用不可信内容
7. 使用位置服务  

### 移动设备安全策略  
1. 设备安全
2. 数据流安全  
所有数据流必须加密并通过安全方式传输
3. 边界安全  
组织应该有安全机制来保护网络不被非授权访问  

## 第19章

### PGP
PGP 是一个完整的电子邮件安全软件包，包括加密、鉴别、电子签名和压缩等技术  
PGP的实际操作由4类服务组成：认证、保密、压缩和电子邮件兼容性  

### PGP的数字签名服务  
1. 发送方生成消息
2. 用SHA-1算法生成消息的160位HASH码
3. 用发送方的私钥按RSA算法加密该HASH码并将结果预先加入到消息中
4. 接受方用发送方的公钥按RSA算法解密消息并恢复HASH码
5. 接受方对该信息用相同的HASH函数生成新的HASH码，并比较该HASH码与解密得到的HASH码，如果两者吻合则该消息为可信  

### PGP的保密  
在PGP中，每一个对称密钥都只使用一次，对每一个消息都会随机生成一个128位的会话密钥（一次性密钥），会话密钥会和消息绑定并随之一起传输，用接受者的公开密钥加密以保护该会话密钥  

流程：  
1. 发送者生成消息和仅用于加密该消息的会话密钥，该会话密钥为128位随机自然数
2. 采用CAST-128（或IDEA或3DES）算法，使用该会话密钥加密消息
3. 采用RSA算法，用接受者的公开密钥加密该会话密钥并预先发送给对方
4. 接受者采用RSA算法，用自己的私钥解密并恢复会话密钥
5. 用会话密钥解密消息  

## 第20章  

### IPsec  
IPsec包含三个功能领域：认证、保密和密钥管理 

#### IPsec的用途
1. 分支机构通过Internet安全互连
2. 远程安全访问Internet
3. 与合作者建立外联网和内联网联系
4. 加强电子商务的安全性  

IPsec能支持各种应用的关键在于它可以在IP层加密和认证所有流量，这样就可以保护所有的分布应用  

#### IPsec的优点  
1. 当防火墙或路由器使用IPsec时，它能对通过其边界的所有通信提供强安全保障
2. 防火墙内的IPsec能阻止所有外部流量的旁路  
3. 位于传输层之下的IPsec对所有的应用都是透明的  
4. IPsec可对终端用户透明，不需要对用户进行安全机制培训  
5. 如果需要，IPsec可以为个体用户提供安全性  

#### 两种模式
1. 传输模式  
为上层协议提供保护，同时增加IP包载荷的保护
2. 隧道模式  
对整个IP包提供保护

#### 重放攻击
攻击者在得到一个经过认证的包后，在以后的某个时刻将其传送到目的站点的行为，这会以某种方式中断服务或产生不可预料的后果   

## 防火墙  
防火墙是互联网上一种非常有效的网络安全模型，通过他隔离风险区域与安全区域的链接，同时不会妨碍人们对风险区域的访问，可以监控进出网络的通信量，仅让安全的和核准了的信息进入，同时又抵制对网站构成威胁的数据  

### 技术 
1. 包过滤技术  
能监视并过滤网络上流入流出的包，拒绝发送那些可疑的包，但是这种技术是无法有效区分同意IP抵制的不同用户，这个技术安全性相对比较低  
2. 代理服务技术  
主要是在应用网关上运行应用代理程序，一方面可代替原来的客户建立连接，另一方面代替原来的客户程序与服务器建立连接，用户可通过应用网关安全地使用网络服务，而对于非法用户的请求则不予理睬  
3. 多级过滤技术   
分组、应用网关、电路网关3级过滤措施，分组过滤掉假冒IP原地址，应用网关控制监测通用服务。电路网关实现内部主机与外部站点的透明连接，并对服务执行严格控制  
4. 网络地址转换技术  
主要针对IP地址的冲突，确保每个分组送到正确地址的主机的通信
5. 网络网关技术  
支持用户在网络的所有服务，也要防止与网络服务有关的安全漏洞，实现网关功能  
6. 安全服务器网络  
通过对SSN的隔离及单独管理，使内部网络能在防火墙的保护之下，可以鉴别用户，降低风险，通过一次性口令系统鉴别从而实现加密作用与目的  
7. 审计和告警功能  
通过对日志文件的记录，按每一个TCP或UDP探寻，使邮件和声响多种方式得到报警

## 入侵检测  

### 防火墙的作用  
一种高级访问控制设备，置于不同网络安全域之间的一系列部件的组合，它是不同网络安全域间通信流的唯一通道，能根据企业有关的安全政策控制（允许、拒绝、监视、记录）进出网络的访问行为  

### 防火墙的局限  
1. 防火墙不能防止通向站点的后门
2. 防火墙一般不提供对内部的保护
3. 防火墙无法防范数据驱动型的攻击 
4. 防火墙不能防止用户由Internet上下载被病毒感染的计算机程序或者将该类程序附在电子邮件上传输  

### 入侵行为  
入侵行为主要是指对系统资源的非授权使用，它可以造成系统数据的丢失和破坏、可以造成系统拒绝对合法用户服务等危害  

### 入侵检测系统（IDS）  
通过抓取网络上的所有报文，分析处理后，报告异常和重要的数据模式和行为模式，使网络安全管理员清楚地了解网络上发生的事件，并能够采取行动阻止可能的破坏  

### IDS的两大职责  
1. 实时监控  
实时地监视、分析网络中所有的数据报文，发现并实时处理所捕获的数据报文
2. 安全审计  
通过对IDS系统记录的网络事件进行统计分析，发现其中的异常现象，得出系统的安全状态，找出所需要的证据  

### 深层次防御体系的特点
1. 对整个网络提供不同级别的保护
2. 对入侵破坏行为进行取证  
3. 有效防止蠕虫、病毒的威胁  
4. 对系统提供最完备的保护  
5. 不会破坏系统的效率和稳定性  
6. 可以识别、防范未知的新攻击方式  

### 基于网络的入侵检测系统的主要优点  
1. 成本低
2. 攻击者转移证据很困难  
3. 实时检测和应答  
4. 能够检测未成功的攻击企图
5. 操作系统独立  

### 基于主机的IDS的主要优势
1. 非常适用于加密和交换环境  
2. 实时的检测和应答
3. 不需要额外的硬件  

### IDS的分析方式  
1. 异常发现技术（基于行为的检测）  
基于行为的检测指根据使用者的行为或资源使用状况来判断是否入侵，而不依赖于具体行为是否出现来检测，所以也被称为异常检测
2. 模式发现技术（基于知识的检测）  
运用已知攻击方法，根据已定义好的入侵模式，通过判断这些入侵模式是否出现来检测，因为很大一部分的入侵是利用了系统的脆弱性，通过分析入侵过程的特征、条件、排列以及事件间关系能具体描述入侵行为的迹象  

## 计算机病毒  
计算机病毒是编制者在计算机程序中插入的破坏计算机功能或者数据的代码，能影响计算机使用，能自我复制的一组计算机指令或者程序代码  
特性：传播性、隐蔽性、感染性、潜伏性、可激发性、表现性或破坏性